"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[170],{3230:(e,n,s)=>{s.d(n,{s:()=>l});var t=s(5155),a=s(3667),r=s(2115),o=s(5565),c=s(6046);function l(e){let{agentId:n,onStatusChange:s,contextData:l,model:i,user:d,onSignOut:m}=e,[x,h]=(0,r.useState)(!1),[u,g]=(0,r.useState)(null),[p,b]=(0,r.useState)(!1),f=(0,c.useRouter)(),v=(0,a.L)({onConnect:()=>{console.log("Connected"),null==s||s("connected"),g(null)},onDisconnect:()=>{console.log("Disconnected"),null==s||s("disconnected")},onMessage:e=>console.log("Message:",e),onError:e=>{console.error("Error:",e),null==s||s("error"),g(e.message),h(!1)}}),j=(0,r.useCallback)(async()=>{h(!0),g(null);try{await navigator.mediaDevices.getUserMedia({audio:!0}),await v.startSession({agentId:n})}catch(e){console.error("Failed to start conversation:",e),g(e instanceof Error?e.message:"Failed to start conversation")}finally{h(!1)}},[v,n]),N=(0,r.useCallback)(async()=>{try{await v.endSession(),g(null)}catch(e){console.error("Failed to end conversation:",e),g(e instanceof Error?e.message:"Failed to end conversation")}},[v]);return(0,t.jsxs)("div",{className:"min-h-screen bg-[#FAFBFC]",children:[(0,t.jsx)("header",{className:"bg-white border-b",children:(0,t.jsxs)("div",{className:"max-w-6xl mx-auto px-4 py-3 flex justify-between items-center",children:[(0,t.jsx)("div",{className:"flex items-center",children:(0,t.jsx)(o.default,{src:"/Grupo_Sura_logo.png",alt:"Sura Logo",width:100,height:40,className:"object-contain"})}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),null==d?void 0:d.email]}),(0,t.jsx)("div",{className:"h-4 w-px bg-gray-200"}),(0,t.jsxs)("button",{onClick:m,className:"flex items-center gap-1 text-sm text-gray-600 hover:text-gray-900",children:[(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Cerrar Sesi\xf3n"]})]})]})}),(0,t.jsxs)("main",{className:"max-w-6xl mx-auto px-4 py-12",children:[(0,t.jsxs)("div",{className:"relative mb-8",children:[(0,t.jsx)("button",{onClick:()=>f.push("/model-selection"),className:"\n              absolute left-0 top-1/2 -translate-y-1/2 -translate-x-[calc(100%+1rem)]\n              flex items-center justify-center\n              w-14 h-14 rounded-2xl border\n              ".concat(i.bgColor," ").concat(i.borderColor,"\n              hover:shadow-md transition-all duration-200\n              group\n            "),children:(0,t.jsx)("svg",{className:"w-6 h-6 ".concat(i.accentColor," transition-transform duration-200 group-hover:-translate-x-0.5"),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})}),(0,t.jsxs)("div",{className:"\n            rounded-2xl border p-8\n            ".concat(i.bgColor," ").concat(i.borderColor,"\n          "),children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-6",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("div",{className:"\n                  inline-flex p-3.5 rounded-xl\n                  bg-white/80 backdrop-blur-sm shadow-sm\n                  border ".concat(i.borderColor,"\n                "),children:(0,t.jsx)("span",{className:"text-3xl",children:i.icon})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-1",children:i.name}),(0,t.jsx)("p",{className:"text-sm font-medium ".concat(i.accentColor),children:i.role})]}),(0,t.jsx)("p",{className:"text-sm leading-relaxed text-gray-600 max-w-2xl",children:i.description})]}),(0,t.jsx)("span",{className:"\n                inline-flex items-center px-3 py-1 rounded-full text-xs font-medium\n                bg-white/90 backdrop-blur-sm ".concat(i.accentColor,"\n                transition-colors duration-300 shadow-sm\n              "),children:i.tag})]}),l&&(0,t.jsxs)("div",{className:"border-t border-gray-200/50 -mx-8 px-8 pt-6",children:[(0,t.jsxs)("button",{onClick:()=>b(!p),className:"w-full flex items-center justify-between group",children:[(0,t.jsx)("span",{className:"text-sm font-medium text-gray-900",children:l.title}),(0,t.jsx)("svg",{className:"w-5 h-5 ".concat(i.accentColor," transition-transform duration-200"),style:{transform:p?"rotate(180deg)":"rotate(0deg)"},fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),(0,t.jsx)("div",{className:"\n                  overflow-hidden transition-all duration-300 ease-in-out\n                  ".concat(p?"max-h-96 opacity-100":"max-h-0 opacity-0","\n                "),children:(0,t.jsx)("div",{className:"space-y-4 pt-4",children:l.sections.map((e,n)=>(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:e.title}),(0,t.jsx)("p",{className:"text-sm text-gray-600 leading-relaxed",children:e.content})]},n))})})]})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-2xl border border-gray-200 p-8",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-6",children:[(0,t.jsx)("div",{className:"w-2 h-2 rounded-full ".concat("connected"===v.status?"bg-green-500 animate-pulse":"bg-gray-300")}),(0,t.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"connected"===v.status?"Conectado":"Desconectado"})]}),u&&(0,t.jsx)("div",{className:"mb-6 px-4 py-3 bg-red-50 border border-red-100 rounded-lg",children:(0,t.jsx)("p",{className:"text-sm text-red-600",children:u})}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("button",{onClick:j,disabled:x||"connected"===v.status,className:"\n                relative overflow-hidden px-8 py-4 rounded-xl text-sm font-medium \n                transition-all duration-300 flex items-center gap-2\n                ".concat(x||"connected"===v.status?"bg-gray-100 text-gray-400 cursor-not-allowed":"\n                    bg-white border-2 ".concat(i.borderColor," ").concat(i.accentColor,"\n                    hover:shadow-lg hover:shadow-").concat(i.bgColor," \n                    active:transform active:scale-[0.98]\n                    before:absolute before:inset-0 \n                    before:bg-gradient-to-r before:from-white/0 before:via-white/50 before:to-white/0\n                    before:translate-x-[-200%] hover:before:translate-x-[200%]\n                    before:transition-transform before:duration-700\n                    before:pointer-events-none\n                  "),"\n              "),children:x?(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-4 h-4 border-2 border-current border-t-transparent rounded-full animate-spin"}),(0,t.jsx)("span",{children:"Iniciando..."})]}):"connected"===v.status?(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("span",{className:"relative z-10",children:"Conversaci\xf3n Activa"})}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"relative z-10",children:"Iniciar Conversaci\xf3n"}),(0,t.jsx)("svg",{className:"w-4 h-4 relative z-10 transition-transform duration-200 group-hover:translate-x-0.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 5l7 7m0 0l-7 7m7-7H3"})})]})}),"connected"===v.status&&(0,t.jsx)("button",{onClick:N,className:"px-8 py-4 rounded-xl text-sm font-medium bg-red-50 text-red-600 hover:bg-red-100 hover:shadow-md transition-all duration-200 active:transform active:scale-[0.98]",children:"Terminar Conversaci\xf3n"})]}),"connected"===v.status&&(0,t.jsx)("div",{className:"\n              mt-6 inline-flex items-center px-4 py-2 rounded-full text-sm font-medium\n              ".concat(v.isSpeaking?"".concat(i.bgColor," ").concat(i.accentColor):"bg-green-50 text-green-600","\n            "),children:v.isSpeaking?"\uD83D\uDDE3ï¸ Hablando":"\uD83D\uDC42 Escuchando"})]}),(0,t.jsx)("div",{className:"mt-16 text-center",children:(0,t.jsxs)("div",{className:"inline-flex items-center gap-2 text-sm text-gray-400",children:["Powered by",(0,t.jsx)(o.default,{src:"/logo-raingroup.png",alt:"Rain Group",width:80,height:25,className:"object-contain -mt-0.5"})]})})]})]})}},6819:(e,n,s)=>{let t;s.d(n,{j:()=>t});var a=s(9904),r=s(399),o=s(7058);if((0,a.Dk)().length){let e=(0,a.Dk)()[0];t=(0,r.xI)(e),(0,o.aU)(e)}else{let e=(0,a.Wp)({apiKey:"AIzaSyAkYReuHUu0pwWkGv9X7c7ib4nNYcKW0ss",authDomain:"rain-chat-official.firebaseapp.com",projectId:"rain-chat-official",storageBucket:"rain-chat-official.firebasestorage.app",messagingSenderId:"902659132211",appId:"1:902659132211:web:fcf613e2147cc89dcc8c46",measurementId:"G-F92VFB8H6F"});t=(0,r.xI)(e),(0,o.aU)(e)}}}]);