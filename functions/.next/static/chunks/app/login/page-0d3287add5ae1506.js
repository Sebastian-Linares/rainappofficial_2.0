(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[520],{8138:(e,t,a)=>{Promise.resolve().then(a.bind(a,7527))},6819:(e,t,a)=>{"use strict";let s;a.d(t,{j:()=>s});var r=a(9904),i=a(399),l=a(7058);if((0,r.Dk)().length){let e=(0,r.Dk)()[0];s=(0,i.xI)(e),(0,l.aU)(e)}else{let e=(0,r.Wp)({apiKey:"AIzaSyAkYReuHUu0pwWkGv9X7c7ib4nNYcKW0ss",authDomain:"rain-chat-official.firebaseapp.com",projectId:"rain-chat-official",storageBucket:"rain-chat-official.firebasestorage.app",messagingSenderId:"902659132211",appId:"1:902659132211:web:fcf613e2147cc89dcc8c46",measurementId:"G-F92VFB8H6F"});s=(0,i.xI)(e),(0,l.aU)(e)}},7527:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o});var s=a(5155),r=a(2115),i=a(399),l=a(6819),n=a(6046),c=a(5565);let o=()=>{let[e,t]=(0,r.useState)(""),[a,o]=(0,r.useState)(!1),[d,m]=(0,r.useState)(null),u=(0,n.useRouter)(),x=async t=>{t.preventDefault(),m(null),o(!0);try{if(!e)throw Error("Email is required");let t=await fetch("/api/passwordless-login",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({email:e})});if(!t.ok){let e=await t.json();throw Error(e.error||"Login failed")}let a=await t.json();if(!a.token)throw Error("No token received from server");await (0,i.p)(l.j,a.token),u.push("/chat")}catch(e){console.error("Login error:",e),m(e.message||"An unexpected error occurred")}finally{o(!1)}};return(0,s.jsxs)("div",{className:"flex min-h-screen",children:[(0,s.jsx)("div",{className:"hidden lg:flex lg:w-1/2 bg-black flex-col p-12 justify-between",children:(0,s.jsx)("div",{className:"flex items-center justify-center flex-1",children:(0,s.jsx)(c.default,{src:"/Grupo_Sura_logo.png",alt:"Grupo Sura Logo",width:200,height:67,className:"object-contain"})})}),(0,s.jsxs)("div",{className:"flex-1 flex flex-col items-center justify-center p-8 bg-white",children:[(0,s.jsxs)("div",{className:"w-full max-w-md space-y-8",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-semibold text-gray-900",children:"\xa1Bienvenido!"}),(0,s.jsx)("p",{className:"mt-2 text-sm text-gray-600",children:"Por favor ingrese su email para iniciar sesi\xf3n"})]}),(0,s.jsxs)("form",{onSubmit:x,className:"space-y-6",children:[(0,s.jsx)("div",{className:"space-y-4",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),(0,s.jsx)("input",{id:"email",type:"email",value:e,onChange:e=>t(e.target.value),required:!0,disabled:a,className:"mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md text-sm text-black",placeholder:"name@example.com"})]})}),d&&(0,s.jsx)("div",{className:"text-red-500 text-sm mt-2",children:d}),(0,s.jsx)("button",{type:"submit",disabled:a,className:"w-full py-2 px-4 border border-transparent rounded-md text-sm font-medium text-white ".concat(a?"bg-blue-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"),children:a?"Signing in...":"Sign In"})]})]}),(0,s.jsx)("div",{className:"absolute bottom-8 text-center",children:(0,s.jsxs)("div",{className:"inline-flex items-center gap-2 text-sm text-gray-400",children:["Powered by",(0,s.jsx)(c.default,{src:"/logo-raingroup.png",alt:"Rain Group",width:80,height:25,className:"object-contain -mt-0.5"})]})})]})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[992,523,984,565,441,517,358],()=>t(8138)),_N_E=e.O()}]);